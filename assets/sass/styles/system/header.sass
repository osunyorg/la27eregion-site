// Pour appliquer le style bouton au bouton d'adhésion
$btn-selector: 'a[href="/fr/adherer/"], a[href="/en/adherer/"]'

// header
header#document-header
    .menu
        // link as button for 'adhérer'
        #{$btn-selector}
            @extend .btn
            @extend .button--accent
            --btn-min-width: 0
            color: var(--btn-color) !important
        .nav-level-2 li 
            a
                @include icon(arrow-right-line, after, true)
                    color: var(--color-accent)
                @include hover-translate-icon
                &, &:hover
                    text-decoration: none
    @include media-breakpoint-up(desktop)
        .menu
            margin-left: space(12)
            flex: 1
            .nav-level-1
                > li
                    > .has-children-active,
                    > .active,
                    > [aria-expanded="true"]
                        text-decoration: underline
                        text-decoration-color: var(--color-accent)
                        text-decoration-thickness: 1px
                        text-underline-offset: 7px
            .dropdown-menu
                text-align: left
                right: auto
                left: 0
                margin-left: space(-3)
        .nav-level-1
            @include media-breakpoint-up(xl)
                > li.has-children + li
                    margin-left: space(10)
                > li:where(:not(.has-children)) + li,
                .nav-search
                    margin-left: space(6)
        .nav-level-2
            display: flex
            gap: space(6) var(--grid-gutter)
            flex-direction: column
            > li + li
                margin-left: 0 !important

#menu-secondary
    @include media-breakpoint-up(desktop)
        margin-left: auto !important
        flex: 0 !important
        .nav-search
            margin-left: $spacing-2
            .search-button span:first-of-type
                display: none
    .menu.is-opened + &
        display: block !important
        margin-top: 0
    .menu-secondaire-i18n
        @extend .primary-i18n
        > span
            white-space: nowrap
    .search-button
        @extend .search-button--primary

@include media-breakpoint-down(desktop)
    header#document-header
        --color-border: #{$color-orange}
        .primary-menu
            .nav-level-1
                margin-bottom: 0
            .header-button 
                span:last-of-type::before
                    color: var(--color-accent)
                    font-size: pxToRem(24)
                    margin-top: -2px
                &[aria-expanded="true"]
                    span:last-of-type::before
                        font-size: pxToRem(28)
        .nav-level-1 
            display: flex
            flex-direction: column
            margin-bottom: space(9)
            > li
                > a
                    @include icon(arrow-right-line, after, true)
                        color: var(--color-accent)
                > span, > a, > button span
                    @include signature
                > span, > a, > button
                    padding-bottom: space(4)
                    padding-top: space(4)
                    &::after
                        font-size: pxToRem(20)
                &:has(#{$btn-selector})
                    order: 10
                    border: none
                    #{$btn-selector}
                        color: var(--color-background)
                        width: 100%
        .nav-level-2 li
            > a, > span
                @include body-text
                padding-bottom: $spacing-2
                padding-top: $spacing-2
        .nav-level-1 > li,
        .nav-level-2 > li
            > a
                display: flex
                align-items: baseline
                justify-content: space-between
        #menu-secondary
            border-top: var(--border-width) solid var(--color-border)
            padding-bottom: $spacing-3